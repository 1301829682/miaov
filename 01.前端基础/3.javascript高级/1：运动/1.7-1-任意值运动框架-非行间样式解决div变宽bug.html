<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
div{width: 100px; height: 100px; background: red;border:1px solid #000;}
</style>
<script>
	function getStyle(obj,attr){
		if(obj.currentStyle){
			return obj.currentStyle[attr];
		}else{
			return getComputedStyle(obj,false)[attr];
		}
	}
	setInterval(function(){
		var oDiv =document.getElementById('div1');

		//oDiv.style.width = oDiv.offsetWidth - 1 +'px';
		//当offsetWidth变化很小时，div宽度反而会变宽，需要用非行间样式来代替解决bug
		oDiv.style.width = parseInt(getStyle(oDiv,'width')) - 1 +'px';

	},30)
</script>
</head>

<body>
	<div id="div1"></div>
</body>
</html>
